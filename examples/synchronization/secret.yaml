apiVersion: synchronization.azuread.upbound.io/v1beta1
kind: Secret
metadata:
  annotations:
    meta.upbound.io/example-id: synchronization/v1beta1/secret
  labels:
    testing.upbound.io/example-name: example
  name: example
spec:
  forProvider:
    servicePrincipalIdSelector:
      matchLabels:
        testing.upbound.io/example-name: example
    credential:
      - key: BaseAddress
        valueSecretRef:
          key: BaseAddress
          name: example-secret
          namespace: upbound-system
      - key: SecretToken
        valueSecretRef:
          key: SecretToken
          name: example-secret
          namespace: upbound-system
---
apiVersion: v1
kind: Secret
metadata:
  name: example-secret
  namespace: upbound-system
type: Opaque
stringData: 
  BaseAddress: abc
  SecretToken: some-token
---
apiVersion: serviceprincipals.azuread.upbound.io/v1beta1
kind: Principal
metadata:
  annotations:
    meta.upbound.io/example-id: synchronization/v1beta1/secret
  labels:
    testing.upbound.io/example-name: example
  name: example
spec:
  forProvider:
    applicationIdSelector:
      matchLabels:
        testing.upbound.io/example-name: example
    useExisting: true
---
apiVersion: applications.azuread.upbound.io/v1beta1
kind: Application
metadata:
  annotations:
    meta.upbound.io/example-id: synchronization/v1beta1/secret
    upjet.upbound.io/manual-intervention: "This resource requires an existing and valid application template ID"
  labels:
    testing.upbound.io/example-name: example
  name: example
spec:
  forProvider:
    templateId: <a valid aplication_template_id>
    displayName: example
    featureTags:
      - enterprise: true
        gallery: true
